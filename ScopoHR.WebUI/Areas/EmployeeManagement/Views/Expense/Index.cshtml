@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row" ng-controller="expenseCtrl" ng-init="initial()">

    <div class="col-md-9 column">
        <div class="box box-solid">
            <div class="box-header with-border">
                <h3 class="box-title">Expense List</h3>
                <div class="box-tools pull-right">
                    <div class="has-feedback">
                        <input type="text" class="form-control input-sm" placeholder="Search Expense" ng-model="searchList">
                        <span class="glyphicon glyphicon-search form-control-feedback"></span>
                    </div>
                </div>
            </div>

            <div class="box-body no-padding">
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Purpose</th>
                            <th>Amount</th>
                            <th>Remarks</th>
                            <th>Receipt Number</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr href="" ng-click="selected($index)" ng-repeat="e in expenseList | filter : searchList" ng-class="{active:e.selected}">
                            <td>
                                {{e.Date}}
                            </td>
                            <td>
                                {{e.AccountName}}
                            </td>
                            <td>
                                {{e.Amount}}
                            </td>
                            <td>
                                {{e.Remarks}}
                            </td>
                            <td>
                                {{e.ReceiptNumber}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

    </div>

    <div class="col-md-3 column">
        <span ng-hide="true">{{Action}}</span>
        <section class="box box-solid">
            <header class="box-header with-border">
                <h3 class="box-title">Expense</h3>
            </header>
            <div class="box-body">
                <form class="form-horizontal" ng-submit="createExpense()" novalidate name="expenseForm">
                    <div class="box-body">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <label class="col-lg-12">Date</label>
                                <div class="col-lg-12">
                                    <input id="Date" placeholder="Enter date" type="text"
                                           class="form-control default-datepicker input-sm pull-right"
                                           ng-blur="bindDate('Date', 'expense')"
                                           ng-model="expense.Date" required />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-12">Purpose</label>
                                <div class="col-lg-12">
                                    <select class="form-control" ng-model="expense.Purpose"
                                            ng-options="account.AccountID as account.AccountName for account in accountList" required>
                                        <option value="">Select Account</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-12">Amount</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" ng-model="expense.Amount" required />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-12">Remarks</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" ng-model="expense.Remarks" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-lg-12">Receipt Number</label>
                                <div class="col-lg-12">
                                    <input type="text" class="form-control" ng-model="expense.ReceiptNumber" />
                                </div>
                            </div>

                            <input type="hidden" class="form-control" ng-model="expense.ExpenseID" />
                        </div>
                    </div>

                    <div class="box-footer">
                        <div class="pull-right">
                            <button type="button" class="btn btn-warning btn-flat btn-sm" ng-click="Reset()"><i class="fa fa-close"></i> Reset</button>
                            <button type="submit" class="btn btn-success btn-flat btn-sm"><i class="fa fa-save"></i> Save</button>
                        </div>
                    </div>
                </form>


            </div>
        </section>
    </div>

</div>