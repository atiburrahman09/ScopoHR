@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="row" ng-controller="jobApplicationController" ng-init="init()" ng-cloak>

    <div class="col-md-2 column">
        <div class="box box-solid">
            <div class="box-header ">
                <h3 class="box-title">Job Vacancies</h3>
            </div>
            <div class="box-body">
                <ul class="nav nav-pills nav-stacked">
                    <li ng-repeat="job in jobList" ng-class="{active:job.selected}">
                        <a href="" ng-click="jobSelected(jobList.indexOf(job))">
                            <i class="fa fa-file-text-o">{{job.JobTitle}}</i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="col-sm-10 column">
        <div class="box box-solid">
            <div class="box-header ">
                <h3 class="box-title">Apply for Job</h3>
            </div>
            <div class="box-body">
                <div class="form-horizontal">
                    <form name="jobApplicationForm">
                        <div class="form-group">




                            <label class="col-lg-2">Title</label>
                            <div class="col-lg-10">
                                <span ng-bind="job.JobTitle"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-2">Description</label>
                            <div class="col-lg-10">
                                <span ng-bind="job.JobDescription"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-2">Due Date</label>
                            <div class="col-lg-10">
                                <span ng-bind="job.DueDate"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-2">Name</label>
                            <div class="col-lg-10">
                                <input type="text" ng-model="appliedJob.CandidateName" required />
                            </div>
                        </div>



                        <div class="form-group">
                            <label class="col-lg-2">Email</label>
                            <div class="col-lg-10">
                                <input type="text" ng-model="appliedJob.CandidateEmail" required />
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-2">Expected Salary</label>
                            <div class="col-lg-10">
                                <input type="number" ng-model="appliedJob.ExpectedSalary" required />
                            </div>
                        </div>










                        <div flow-init="{target: 'http://localhost:55819/api/fileupload/documents/upload'}"
                             flow-file-success="applyJob($message)"
                             flow-name="document">

                            <input type="file" data-flow-btn />

                            @*<input type="button" ng-click="InsertItems($flow)">*@



                            <div class="col-sm-offset-10 col-sm-2">
                                <button type="submit" class="btn btn-success btn-flat btn-block" ng-click="InsertItems(document)">Upload & Apply</button>
                            </div>



                            <table>
                                <tr ng-repeat="file in document.files">
                                    <td>{{$index+1}}</td>
                                    <td>{{file.name}}</td>
                                    <td>{{file.msg}}</td>
                                </tr>
                            </table>
                        </div>
</form>
</div>











            </div>
        </div>
    </div>
</div>


